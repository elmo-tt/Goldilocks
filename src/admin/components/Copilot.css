.ops .copilot-overlay{ position:fixed; inset:0; height:100vh; background:rgba(8,12,22,0.92); -webkit-backdrop-filter: blur(6px); backdrop-filter: blur(6px); display:grid; grid-template-columns:280px 1fr; z-index:100; }
.ops[data-theme='light'] .copilot-overlay{ background:rgba(255,255,255,0.92); }
.ops .copilot-sidebar{ border-right:1px solid var(--ops-border); background:var(--ops-blue-2); display:flex; flex-direction:column; }
.ops .copilot-sidebar .top{ display:flex; align-items:center; justify-content:space-between; padding:14px 12px; border-bottom:1px solid var(--ops-border); }
.ops .copilot-list{ flex:1; overflow:auto; padding:8px; display:grid; gap:6px; align-content:start; grid-auto-rows:min-content; }
.ops .copilot-list button{ width:100%; text-align:left; padding:10px 12px; background:transparent; border:1px solid transparent; border-radius:10px; color:var(--ops-text); }
.ops .copilot-list button:hover{ background:var(--ops-blue-3); border-color:var(--ops-border); }
.ops .copilot-main{ display:grid; grid-template-rows:auto 1fr auto; min-height:0; }
.ops .copilot-main .bar{ display:flex; align-items:center; justify-content:space-between; padding:12px 16px; border-bottom:1px solid var(--ops-border); }
.ops .copilot-main .bar .copilot-min{ width:40px; height:40px; display:inline-flex; align-items:center; justify-content:center; border-radius:12px; background:#1b2a52; border:1px solid #27407a; color:#dfe8ff; cursor:pointer; box-shadow: 0 4px 14px rgba(0,0,0,0.25); transition: transform .12s ease, filter .12s ease, background .12s ease, border-color .12s ease; }
.ops .copilot-main .bar .copilot-min:hover{ filter: brightness(1.06); transform: translateY(-1px); }
.ops .copilot-main .bar .copilot-min:active{ transform: translateY(0); }
.ops .copilot-main .bar .copilot-min svg{ pointer-events:none; }
.ops[data-theme='light'] .copilot-main .bar .copilot-min{ background:#eef2ff; border:1px solid #c7d2fe; color:#1e293b; }
.ops[data-theme='light'] .copilot-main .bar .copilot-min:hover{ background:#e5e9ff; }
.ops .messages{ padding:16px; overflow:auto; display:flex; flex-direction:column; gap:14px; min-height:0; max-height:100%; overscroll-behavior:contain; }
.ops .msg{ display:grid; gap:8px; background:var(--ops-blue-2); border:1px solid var(--ops-border); border-radius:12px; padding:12px 14px; max-width:720px; word-break:break-word; line-height:1.6; }
.ops .msg.me{ background:#18233d; border-color:#22315a; align-self:flex-end; margin-left:0; }
.ops[data-theme='light'] .msg.me{ background:#eef2ff; border-color:#c7d2fe; }
.ops .input-bar{ display:grid; grid-template-columns:1fr auto; gap:8px; padding:12px; border-top:1px solid var(--ops-border); background:var(--ops-blue-2); }
.ops .input{ width:100%; background:var(--ops-blue-3); color: var(--ops-text); border:1px solid var(--ops-border); border-radius:10px; padding:10px 12px; }
@media (max-width: 960px){ .ops .copilot-overlay{ grid-template-columns:1fr; } .ops .copilot-sidebar{ display:none; } }

/* Typing dots */
.ops .typing{ display:inline-flex; gap:6px; align-items:center; height:1em; }
.ops .typing .dot{ width:6px; height:6px; border-radius:50%; background: currentColor; opacity:0.35; animation: gl-typing 1.2s infinite ease-in-out; }
.ops .typing .dot:nth-child(2){ animation-delay: 0.15s; }
.ops .typing .dot:nth-child(3){ animation-delay: 0.3s; }
@keyframes gl-typing{
  0%, 80%, 100% { opacity: 0.35; transform: translateY(0); }
  40% { opacity: 1; transform: translateY(-2px); }
}

/* Markdown within assistant messages */
.ops .msg .md{ display:grid; gap:8px; line-height:1.75; }
.ops .msg .md p{ margin:0; }
.ops .msg .md h1,
.ops .msg .md h2,
.ops .msg .md h3{ margin:6px 0 2px; line-height:1.3; }
.ops .msg .md h1{ font-size:1.2em; }
.ops .msg .md h2{ font-size:1.15em; }
.ops .msg .md h3{ font-size:1.08em; }
.ops .msg .md ul,
.ops .msg .md ol{ margin:0; padding-left:20px; }
.ops .msg .md li{ margin:0 0 6px; }
.ops .msg .md a{ text-decoration: underline; }

/* Sleek minimize icon button */
.ops .copilot-min{ width:40px; height:40px; display:inline-flex; align-items:center; justify-content:center; border-radius:12px; background:#1b2a52; border:1px solid #27407a; color:#dfe8ff; cursor:pointer; box-shadow: 0 4px 14px rgba(0,0,0,0.25); transition: transform .12s ease, filter .12s ease, background .12s ease, border-color .12s ease; }
.ops .copilot-min:hover{ filter: brightness(1.06); transform: translateY(-1px); }
.ops .copilot-min:active{ transform: translateY(0); }
.ops .copilot-min svg{ pointer-events:none; }
.ops[data-theme='light'] .copilot-min{ background:#eef2ff; border:1px solid #c7d2fe; color:#1e293b; }
.ops[data-theme='light'] .copilot-min:hover{ background:#e5e9ff; }
