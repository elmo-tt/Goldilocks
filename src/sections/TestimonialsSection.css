.testimonials { background: var(--color-7-0a0d48, #0a0d48); color: #fff; padding-block: 96px; overflow-x: clip; }
.testimonials-inner { padding-inline: clamp(24px, 8vw, 160px); display: grid; gap: 28px; }
/* Full-bleed centering relative to viewport */
.t-viewport-wrap {
  position: relative;
  /* Fallback for older browsers */
  width: 100vw;
  margin-left: calc(50% - 50vw);
  margin-right: calc(50% - 50vw);
  /* Prefer dynamic viewport to avoid including scrollbar width */
  width: 100dvw;
  margin-left: calc(50% - 50dvw);
  margin-right: calc(50% - 50dvw);
  overflow-x: clip;
}

.t-viewport { 
  --t-card-w: calc(100% / 3);
  display: grid; 
  grid-auto-flow: column; 
  grid-auto-columns: var(--t-card-w); 
  gap: 0; 
  overflow-x: auto; 
  scroll-snap-type: x mandatory; 
  align-items: stretch; 
  scrollbar-width: none; 
  -ms-overflow-style: none; 
  /* Full-bleed track so cards touch viewport edges */
  width: 100%;
  position: relative;
  left: 0;
  transform: none;
  /* Center logic without visible gutters */
  scroll-padding-inline: calc((100% - var(--t-card-w)) / 2);
  /* Vertical breathing room so scaled active card isn't clipped */
  padding-block: 24px;
  /* Prevent scroll chaining and ensure snaps stop cleanly */
  overscroll-behavior-inline: contain;
  overscroll-behavior-x: contain;
  scroll-snap-stop: always;
}
.t-viewport::-webkit-scrollbar { display: none; }

.t-card { background: #030535; border-radius: 6px; padding: 24px; display: grid; grid-template-rows: auto 1fr auto; scroll-snap-align: center; opacity: 0.45; transform: scale(0.92); transform-origin: center; transition: opacity 160ms ease, background 160ms ease, transform 200ms ease; }
.t-card.active { background: #030535; opacity: 1; box-shadow: none; transform: scale(1.04); z-index: 1; }

/* During wrap-around snap, disable transitions to avoid flicker */
.testimonials.no-anim .t-card { transition: none !important; }
.testimonials.no-anim .progress .bar { transition: none !important; }

.t-card .stars { color: #ffc700; opacity: 0.95; letter-spacing: 1px; margin-bottom: 24px; }
.t-card .star { margin-right: 4px; opacity: 0.9; }
.t-card .t-text { margin: 0; font-size: 20px; line-height: 1.3; }
.t-card .t-meta { margin-top: 30px; display: grid; gap: 2px; }
.t-card .t-meta .name { font-weight: 600; font-size: 16px; }
.t-card .t-meta .area { font-size: 14px; opacity: 0.8; }

.t-controls { display: grid; grid-template-columns: 1fr auto; align-items: center; gap: 16px; margin-top: 8px; }

/* Single-line indicator */
.progress { position: relative; height: 2px; background: rgba(255,255,255,0.18); border-radius: 999px; overflow: visible; }
.progress .thumb { --progress: 0; position: absolute; top: 50%; height: 4px; background: #fff; border-radius: 999px; width: calc(100% / var(--segments, 3)); left: calc(var(--progress) * (100% - 100% / var(--segments, 3))); transform: translateY(-50%); transition: left 240ms ease; }
.testimonials.no-anim .progress .thumb { transition: none !important; }

/* Arrows to the right of the line (scoped) */
.t-arrows { display: flex; gap: 10px; }
.t-nav-btn { width: 36px; height: 28px; border-radius: 8px; background: rgba(255,255,255,0.08); border: none; color: #fff; display: grid; place-items: center; }
.t-nav-btn:hover { background: rgba(255,255,255,0.14); }

@media (max-width: 900px) {
  .t-viewport { --t-card-w: 100%; }
}
