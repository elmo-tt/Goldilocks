.ops .section{ padding:24px; }
.ops .card-grid{ display:grid; grid-template-columns: repeat(12, 1fr); gap:16px; }
.ops .kpi-card{ grid-column: span 2; overflow: hidden; }
@media (max-width: 960px){ .ops .kpi-card{ grid-column: span 6; } }
@media (max-width: 560px){ .ops .kpi-card{ grid-column: span 12; } }
.ops .card{ background:var(--ops-blue-2); border:1px solid var(--ops-border); border-radius:12px; padding:16px; color:var(--ops-text); }
.ops .card h3{ margin:0 0 8px; font-size:14px; color:var(--ops-muted); font-weight:600; }
.ops .card .value{ font-size:28px; font-weight:700; letter-spacing:.2px; }

/* KPI tile layout */
.ops .kpi{ display:flex; align-items: center; justify-content: flex-start; gap:10px; width:100%; }
.ops .kpi-card{ min-width: 0; }
.ops .kpi-value{ font-size: clamp(26px, 2.1vw, 34px); line-height:1; font-weight:800; letter-spacing:.2px; color:var(--ops-text); flex:0 0 auto; }
.ops .kpi-label{ font-size:13px; font-weight:600; color:var(--ops-muted); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; margin-left:8px; flex:1 1 auto; min-width:0; max-width:100%; }
@media (min-width: 961px){
  .ops .kpi{ flex-direction: column; align-items: flex-start; gap:6px; }
  .ops .kpi-label{ margin-left:0; text-align:left; white-space: normal; overflow: visible; text-overflow: clip; }
}
@media (max-width: 960px){
  .ops .kpi{ gap:6px; }
  .ops .kpi-value{ font-size:32px; }
  .ops .kpi-label{ font-size:12px; }
}
@media (max-width: 560px){
  .ops .kpi{ flex-direction: row; align-items: center; justify-content: space-between; gap:10px; }
  .ops .kpi-card{ padding: 18px; }
  .ops .kpi-value{ font-size:34px; }
  .ops .kpi-label{ font-size:14px; margin-left:auto; text-align:right; }
}
/* Chart sizing */
.ops .chart-wrap{ width:100%; height:220px; min-width:0; }
@media (max-width: 1280px){ .ops .chart-wrap{ height:200px; } }
@media (max-width: 560px){ .ops .chart-wrap{ height:170px; } }
/* font-size handled by clamp above to prevent overflow/clipping */

/* Marketing layout and shared controls */
.ops .marketing-layout{ display:grid; grid-template-columns: minmax(0,1fr) 360px; gap:16px; }
.ops .marketing-layout > *{ min-width: 0; }
.ops .right-rail{ position: sticky; top: 72px; height: calc(100vh - 88px); overflow: auto; display: grid; gap: 12px; overflow-x: hidden; }
.ops .right-rail > *{ min-width: 0; }
.ops .panel{ background: var(--ops-blue-2); border:1px solid var(--ops-border); border-radius:12px; padding:16px; box-sizing: border-box; }
.ops .panel h4{ margin:0 0 8px; font-size:14px; color:var(--ops-muted); font-weight:600; }
.ops .panel .actions{ display:flex; gap:8px; margin-top:8px; flex-wrap: wrap; }
.ops .panel *{ min-width: 0; }
.ops .card{ min-width: 0; max-width: 100%; }
.ops .input, .ops textarea{ width:100%; background: var(--ops-blue-3); color: var(--ops-text); border:1px solid var(--ops-border); border-radius:10px; padding:10px 12px; }
.ops .panel input, .ops .panel textarea{ max-width: 100%; overflow-wrap: anywhere; word-break: break-word; }
.ops textarea{ min-height: 120px; resize: vertical; }

/* Ensure TipTap editor content never overflows horizontally */
.ops .rich-editor{ min-width: 0; max-width: 100%; overflow-wrap: break-word; word-break: break-word; white-space: normal; }
.ops .rich-editor .ProseMirror{ min-width: 0; max-width: 100%; }
.ops .rich-editor *{ max-width: 100%; }
.ops .rich-editor pre, .ops .rich-editor code{ white-space: pre-wrap; word-break: break-word; }
.ops .rich-editor table{ width: 100%; border-collapse: collapse; }
.ops .rich-editor img, .ops .rich-editor video, .ops .rich-editor iframe{ max-width: 100%; height: auto; display: block; }
.ops .rich-editor [style*="white-space:nowrap"], .ops .rich-editor nobr{ white-space: normal !important; }
.ops .button{ background:#12306a; border:1px solid #1b3d84; color:#dfe8ff; padding:10px 12px; border-radius:10px; cursor:pointer; }
.ops .button:hover{ filter:brightness(1.05); }
.ops[data-theme='light'] .button{ background:#eef2ff; border:1px solid #c7d2fe; color:#1e293b; }
.ops[data-theme='light'] .button:hover{ background:#e5e9ff; }

/* Standardized colored buttons */
.ops .btn{ display:inline-flex; align-items:center; gap:8px; font-size:14px; line-height:1; padding:10px 12px; border-radius:8px; color:#fff; border:0; cursor:pointer; text-decoration:none; }
.ops .btn.blue{ background:#2563eb; }
.ops .btn.purple{ background:#7c3aed; }
.ops .btn.teal{ background:#0284c7; }
.ops .btn.red{ background:#dc2626; }
.ops .btn:disabled{ opacity:0.6; cursor:not-allowed; }

/* Ensure all admin buttons share the same font size and family */
.ops .btn, .ops .button, .ops .ops-btn { font-size:14px; font-family: inherit; }

@media (max-width: 960px){
  .ops .marketing-layout{ grid-template-columns: 1fr; }
  .ops .right-rail{ position: static; height: auto; }
}

/* Rich text editor constraints */
.ops .rich-editor{ max-height: 520px; overflow: auto; }
.ops .rich-editor img{ max-width: 100%; height: auto; display: block; border-radius: 8px; }
/* Caption styling: only paragraphs explicitly marked by the editor */
.ops .rich-editor p[data-caption-for]{ color: var(--ops-muted); font-size: 12px; font-style: italic; margin-top: 6px; }

/* Standardized contained media thumbnail */
.ops .media-thumb{ display: grid; place-items: center; background: var(--ops-blue-2); border-radius: 8px; overflow: hidden; }
.ops .media-thumb img{ width: 100%; height: 100%; object-fit: contain !important; display: block; }

/* Responsive list rows (used in Articles list, etc.) */
.ops .ops-list-row{
  display:grid; grid-template-columns: 1fr auto auto; align-items:center; gap:12px;
  border:1px solid var(--ops-border); border-radius:10px; padding:10px 12px; background:var(--ops-blue-2);
}
.ops .ops-list-actions{ display:flex; gap:8px; justify-content:flex-end; }
.ops .ops-list-status{ display:flex; justify-content:flex-end; }

@media (max-width: 720px){
  .ops .ops-list-row{ grid-template-columns: 1fr; align-items:start; row-gap:8px; }
  .ops .ops-list-status{ justify-content:flex-start; }
  .ops .ops-list-actions{ justify-content:flex-start; flex-wrap:wrap; gap:6px; }
}

/* Two-column form helper that collapses on small screens */
.ops .ops-two-col{ display:grid; grid-template-columns: 1fr 1fr; gap:12px; }
@media (max-width: 720px){ .ops .ops-two-col{ grid-template-columns: 1fr; } }

/* Media page mobile layout */
.ops .ops-media-head{ display:grid; grid-template-columns: 1fr auto; align-items:center; gap:12px; }
.ops .ops-media-actions{ display:flex; gap:8px; align-items:center; flex-wrap:wrap; }
.ops .ops-media-actions .ops-btn{ display:flex; align-items:center; justify-content:center; text-align:center; white-space:nowrap; }
@media (max-width: 720px){
  .ops .ops-media-head{ grid-template-columns: 1fr; gap:10px; }
  .ops .ops-media-actions{ display:grid; grid-template-columns: 1fr 1fr; gap:8px; }
  .ops .ops-media-actions .ops-btn{ width:100%; justify-content:center; }
}
@media (max-width: 480px){ .ops .ops-media-actions{ grid-template-columns: 1fr; } }

.ops .ops-media-grid{ display:grid; grid-template-columns: repeat(auto-fill, minmax(160px, 1fr)); gap:12px; }
@media (max-width: 520px){ .ops .ops-media-grid{ grid-template-columns: repeat(auto-fill, minmax(140px, 1fr)); gap:10px; } }

.ops .ops-media-overlay{ position:fixed; inset:0; background:rgba(2,6,23,0.5); z-index:59; }
.ops .ops-media-drawer{ position:fixed; top:0; right:0; height:100vh; width:360px; background:var(--ops-blue-2); color:var(--ops-text); border-left:1px solid var(--ops-border); z-index:60; display:grid; grid-template-rows:auto 1fr auto; }
@media (max-width: 960px){ .ops .ops-media-drawer{ width:min(96vw, 420px); } }
@media (max-width: 520px){ .ops .ops-media-drawer{ width:100vw; } }
